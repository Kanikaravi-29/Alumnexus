<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Application</title>
    <style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        text-align: center;
        background: url('/static/images/image1.jpg') no-repeat center center/cover !important;
        background-attachment: fixed;
        min-height: 100vh;
        width: 100%;
        background-size: cover;  /* Ensures the image covers the entire background */
        background-position: center;  /* Centers the image */
        background-repeat: no-repeat;  /* Prevents repeating */
        
    }
    .job-application-container {
        margin-top:40px;
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        width: 400px;
        text-align: center;
    }
    .container {
        background: rgba(255, 255, 255, 0.2);
        margin-bottom: -30px;
        padding: 30px;
        width: 90%; /* Increased width */
        max-width: 1200px; /* Ensured full visibility */
        border-radius: 10px;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
        display: flex; /* Flexbox for layout */
        justify-content: space-between; /* Proper spacing */
        align-items: flex-start;
        margin:auto;
        overflow: hidden;
        background-color: white;
    }
    
    /* Hero Section */
    .hero {
        text-align: center;
        background-color: white;
        padding: 50px 20px;
        width: 100%;
        max-width: 700px; /* Adjusted max-width */
        margin-left:500px;
        margin-top:50px;
        transform: translateY(-40px);
        height:30vh;
       
    }
    .hero h1 {
        font-size: 28px;
        font-weight: bold;
    }
    
    .highlight {
        color: #6a0dad;
    }
    
    .upload-btn {
        background: none;
        border: 2px solid #6a0dad;
        color: #6a0dad;
        padding: 10px 15px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin: 10px 0;
    }
    
    /* Search Bar */
    .search-bar {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-top: 15px;
    }
    
    .search-bar input, 
    .search-bar select {
        padding: 10px;
        width: 200px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }
    
    .search-btn {
        background-color: #6a0dad;
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 5px;
        cursor: pointer;
    }
    /* Popular Searches - Left Alignment */
    .popular-searches {
        display: flex;
        flex-direction: column; /* Stack items vertically */
        align-items: center;
        padding: 40px 20px;
        background-color: white;
        width: 250px; /* Set proper width */
        max-width: 300px; /* Prevent it from shrinking */
        margin-left: 30px; /* Ensures it's left-aligned */
        margin-top:-850px;
    }
    
    
    .search-right button {
        background: none;
        border: 1px solid #ccc;
        padding: 10px 15px;
        cursor: pointer;
        border-radius: 5px;
        width: 200px; /* Ensure buttons are same width */
        text-align: center;
    }
    
    .view-all {
        background-color: #6a0dad;
        color: white;
    }
    
    
    .search-left {
        flex: 1;
        text-align: center;
    }
    
    .search-left img {
        width: 150px;
    }
    
    .search-right {
        flex: 2;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        width: 200px;
    }
    
    .search-right button {
        background: none;
        border: 1px solid #ccc;
        padding: 8px 12px;
        cursor: pointer;
        border-radius: 5px;
    }
    
    .view-all {
        background-color: #6a0dad;
        color: white;
    }
    
    
    /* Employers Section Fix */
    .employers {
        text-align: center;
        justify-content:center;
        padding: 40px;
        width: 100%;
        max-width: 1000px;
        margin-top: 200px;
        margin-right:1000px;
          
    }
    
    /* Company Logos */
    .company-logos {
        top:500px;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
        margin-left:300px;
        width:100%;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
        .container {
            flex-direction: column;
            align-items: center;
        }
    
        .popular-searches {
            width: 100%;
            max-width: 400px;
            text-align: center;
        }
    
        .hero {
            max-width: 100%;
        }
    }
    /* Job Posting Page Styles (Unique Class Names) */
    
    /* Page Layout */
    .job-post-body {
        font-family: Arial, sans-serif;
        background: url('/static/images/image1.jpg') no-repeat center center/cover!important;
        background-size: cover; /* Adjusts image to cover the screen */
        background-repeat: no-repeat;
        background-attachment: fixed;
        display:flex;
     
        margin: 0;
        padding: 0;
        justify-content: center;
        align-items: center;
        height: 150%;
        z-index:-1;
        width:100%;
    }
    
    /* Job Posting Container */
    .job-post-container {
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
        width: 400px;
        text-align: center;
        margin-top:-120px;
        flex-grow:-1;
    }
    
    /* Header */
    .job-post-header h1 {
        font-size: 22px;
        font-weight: bold;
        margin-bottom: 20px;
        color: #333;
        border-radius:5px;
    }
    
    /* Job Posting Form */
    .job-posting-form input,
    .job-posting-form textarea,
    .job-posting-form select {
        width: 90%;
        padding: 12px;
        margin-top: 10px;
        border: 1px solid #ccc;
        border-radius: 0px;
        font-size: 14px;
    }
    
    .job-posting-form textarea {
        height: 100px;
        resize: none;
    }
    
    /* Post Job Button */
    .job-posting-form button {
        width: 100%;
        padding: 12px;
        background: #6a0dad;
        color: white;
        border: none;
        font-size: 16px;
        border-radius: 5px;
        cursor: pointer;
        transition: 0.3s;
        margin-top:10px;
    }
    
    .job-posting-form button:hover {
        background: #5a0cad;
    }
    /* Job Openings Container */
    .job-openings {
        background: white;
        padding: 20px;
        margin-left: 370px;
        border-radius: 0px;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
        width: 70%; /* Ensure full width */
        max-width: 1200px; /* Prevent stretching */
        text-align: center;
        height:65vh;
        margin-top:20px;
        justify-content:center;
    }
    .job-card { 
        justify-content:space-between;
        border: 1px solid #ddd;
        padding: 15px;
        margin-bottom: -15px;
        background: #fff;
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        border-radius: 0px;
        height:45vh;
        flex: 0 0 250px; /* force each card to fixed width */
        width: 270px;
        margin-right:-5px;
    }
    
    .apply-btn {
        background: #6a0dad;
        color: white;
        padding: 10px 15px;
        border: none;
        cursor: pointer;
        font-size: 14px;
        border-radius: 5px;
    }
    
    .apply-btn:hover {
        background: #45a049;
    }
    #job-listings {
        display: flex;    
        margin-left:100px;
        flex-wrap: nowrap;           /* Allows wrapping if too many cards */
        gap: 30px;                 /* Space between cards */
        justify-content: center;   /* Centers them on the page */
        align-items: stretch;
        height:55vh;  
        width:100%; 
        overflow: hidden;   /* Ensures equal height */  
    }
    
    .content-box {
        text-align: center;
        background: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
        color: white;
        padding: 20px;
        border-radius: 10px;
        max-width: 800px;
        margin: auto;
        margin-top: 20px;
    }
    
    /* Header Styling */
    header {
        background: rgba(255, 255, 255, 0.8);
        color:#6a0dad;
        padding: 25px 20px;
        text-align: center;
        border-radius: 0px; /* Slightly rounded corners */
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3); /* Soft shadow */
        transition: background 0.3s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
    
    }
    
    
    /* Main Container */
    .container11 {
        background: rgba(255, 255, 255, 0.8);
        padding: 40px;
        width: 60%;
        max-width: 800px;
        margin: 40px auto;
        border-radius: 10px;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    /* Buttons */
    .container11 button {
        background-color: #6a0dad;
        color: white;
        padding: 12px 20px;
        font-size: 18px;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        margin: 10px;
        transition: background 0.3s ease;
    }
    
    .container11 button:hover {
        background-color: #520b8a;
    }
    
    /* Image Styling */
    .container11 img {
        max-width: 100%;
        height: auto;
        margin-bottom: 20px;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
        .container {
            width: 80%;
        }
    
        .container button {
            width: 100%;
        }
    }
    html{
        height: 100%;
    }
    .background-container {
        height: auto;
        min-height: 100vh;
    }
    
    .prev, .next {
        background-color: rgba(0, 0, 0, 0.3);
        color: white;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
        font-size: 20px;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        z-index: 1;
    }
    
    .prev {
        left: 390px;
        top:50%;
    }
    
    .next {
        right: 90px;
    }
    
    .carousel-wrapper {
        display: flex;
        align-items: center;
        justify-content: center;
        max-width: 100%;
        overflow: auto;
        padding: 10px;
        box-sizing: border-box;
        gap: 10px;
        -webkit-overflow-scrolling: touch;
        transition: transform 0.5s ease;
    }
    
    .carousel-container {
        display: flex;
        gap: 10px;
        overflow-x: hidden;
        scroll-behavior: smooth;
        scroll-snap-type: x mandatory;
        padding: 10px 0;
        padding-left:580px;
        width: 100%;
        box-sizing: border-box;
        transition: transform 0.5s ease;
    }
    .carousel-btn {
        width: 50px;
        height: 50px;
        color: white;
        font-size: 24px;
        border: none;
        padding: 10px;
        cursor: pointer;
        z-index: 10;
    }
    .carousel-container::-webkit-scrollbar {
        display: none;
    }
    .carousel-btn:disabled {
        display: none;
    }
    .carousel-track {
        display: flex;
        overflow-x: auto;
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch; /* Smooth on iOS */
        scrollbar-width: none; /* Hide scrollbar Firefox */
      }
      
      .carousel-track::-webkit-scrollbar {
        display: none; /* Hide scrollbar Chrome/Safari */
      }</style>
</head>
<body>
    <section class="job-openings">
        <h2>Current Job Openings</h2>
        <div class="carousel-wrapper">
            <button class="carousel-btn prev" onclick="moveSlide(-1)">&#10094;</button>
            <div id="job-listings" class="carousel-container">
                {% for job in jobs %}
                <div class="job-card">
                    <h3>{{ job.title }}</h3>
                    <p><strong>Company:</strong> {{ job.company }}</p>
                    <p>{{ job.description }}</p>
                    <p><strong>Experience:</strong> {{ job.experience }}</p>
                    <p><strong>Skills:</strong> {{ job.skills }}</p>
                    <p><strong>Job Type:</strong> {{ job.job_type }}</p>
                    <a class="apply-btn" href="/job_details/{{ job.id }}">Apply Now</a>
                </div>
                {% else %}
                <p>No job openings available.</p>
                {% endfor %}
            </div>
            <button class="next" onclick="moveSlide(1)">&#10095;</button>
        </div>
        {% if session.get('alert') == 'fill' %}
            <div class="alert alert-danger">Please fill in all required fields.</div>
        {% elif session.get('alert') == 'duplicate' %}
            <div class="alert alert-warning">You have already applied for this job.</div>
        {% elif session.get('alert') == 'success' %}
            <div class="alert alert-success">Application submitted successfully!</div>
        {% endif %}
        {% with _ = session.pop('alert', None) %}{% endwith %}

    </section>

    <section class="hero">
        <h1>Find the job that is <span class="highlight">perfect for You</span></h1>
        <form class="search-bar" action="/search" method="get">
            <input type="text" name="q" placeholder="Skills, Companies or Job title" value="{{ request.args.get('q', '') }}">
        
            <select name="exp">
                <option value="">Select Experience</option>
                <option value="Fresher" {% if request.args.get('exp') == 'Fresher' %} selected {% endif %}>Fresher</option>
                <option value="1-2 Years" {% if request.args.get('exp') == '1-2 Years' %} selected {% endif %}>1-2 Years</option>
                <option value="3-5 Years" {% if request.args.get('exp') == '3-5 Years' %} selected {% endif %}>3-5 Years</option>
                <option value="6+ Years" {% if request.args.get('exp') == '6+ Years' %} selected {% endif %}>6+ Years</option>
            </select>
        
            <input type="text" name="loc" placeholder="Enter Location" value="{{ request.args.get('loc', '') }}">
        
            <br><br>
            <div class="search-button-wrapper">
                <button type="submit" class="search-btn">Search</button>
            </div>
        </form>
    </section>
    
    <br><br>

    <section class="popular-searches">
        <div class="search-left">
            <h2>Popular Searches</h2>
        </div>
        <div class="search-right">
            <button>Freshers</button>
            <button>Freelancer</button>
            <button>Engineering</button>
            <button>Digital Marketing</button>
            <button>Accounting</button>
            <button>IT</button>
            <button>HR Executive</button>
            <button>Management</button>
            <button>Sales</button>
            <button>Work From Home</button>
            <button>Software Engineer</button>
        </div>
    </section>
    <br><br>

    <section class="employers">
        <h2>Employers Choice</h2>
        <div class="company-logos">
            <img src="/static/images/google.png" alt="Google">
            <img src="/static/images/microsoft.png" alt="Microsoft">
            <img src="/static/images/intel.png" alt="Intel">
            <img src="/static/images/tata.png" alt="TATA Digital">
            <img src="/static/images/infosys.png" alt="Infosys">
            <img src="/static/images/meta.png" alt="Meta">
        </div>
    </section>

    <script>
        function moveSlide(direction) {
            const carousel = document.getElementById('job-listings');
            const scrollAmount = 300; // adjust based on job card width
            carousel.scrollBy({
                left: direction * scrollAmount,
                behavior: 'smooth'
            });
        }
    
        // Optional: Touch swipe support
        let startX;
        let scrollLeft;
        const carousel = document.getElementById('job-listings');
    
        carousel.addEventListener('touchstart', (e) => {
            startX = e.touches[0].pageX;
            scrollLeft = carousel.scrollLeft;
        });
    
        carousel.addEventListener('touchmove', (e) => {
            const x = e.touches[0].pageX;
            const walk = startX - x;
            carousel.scrollLeft = scrollLeft + walk;
        });
    </script>
    
</body>
</html>